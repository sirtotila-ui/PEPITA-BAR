<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pepita Bar & Restaurant ‚Äî Cucina Italiana a Ravenna</title>
<meta name="description" content="Pepita Bar & Restaurant a Ravenna. Cucina italiana di qualit√†, terrazza all'aperto, atmosfera accogliente. Prenota il tuo tavolo oggi.">
<meta name="keywords" content="ristorante Ravenna, cucina italiana Ravenna, bar Ravenna, terrazza Ravenna, prenotazione tavolo Ravenna, Pepita">
<meta name="author" content="Pepita Bar & Restaurant">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://pepita-ravenna.it">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="restaurant">
<meta property="og:url" content="https://pepita-ravenna.it">
<meta property="og:title" content="Pepita Bar & Restaurant ‚Äî Cucina Italiana a Ravenna">
<meta property="og:description" content="Scopri i sapori tradizionali della Romagna in un ambiente accogliente. Terrazza all'aperto disponibile.">
<meta property="og:image" content="https://pepita-ravenna.it/assets/header-facade.png">
<meta property="og:locale" content="it_IT">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="https://pepita-ravenna.it">
<meta name="twitter:title" content="Pepita Bar & Restaurant ‚Äî Cucina Italiana a Ravenna">
<meta name="twitter:description" content="Scopri i sapori tradizionali della Romagna in un ambiente accogliente.">
<meta name="twitter:image" content="https://pepita-ravenna.it/assets/header-facade.png">

<!-- Preconnect -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="dns-prefetch" href="https://www.google.com">
<link rel="dns-prefetch" href="https://maps.google.com">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#c44569">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Pepita">

<!-- Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Restaurant",
  "name": "Pepita Bar & Restaurant",
  "image": "https://pepita-ravenna.it/assets/header-facade.png",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Via Giuseppe di Vittorio, 14",
    "addressLocality": "Ravenna",
    "postalCode": "48123",
    "addressRegion": "RA",
    "addressCountry": "IT"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": "44.417",
    "longitude": "12.203"
  },
  "url": "https://pepita-ravenna.it",
  "telephone": "+390544453956",
  "priceRange": "‚Ç¨‚Ç¨",
  "servesCuisine": "Italian",
  "openingHoursSpecification": [
    {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
      "opens": "07:00",
      "closes": "23:00"
    }
  ],
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "reviewCount": "127"
  }
}
</script>
<style>
:root {
  /* Brand Colors - Red Palette */
  --color-primary: #c44569;
  --color-primary-light: #ee5a6f;
  --color-primary-dark: #a83a5a;
  --color-accent: #ff6b6b;
  --color-accent-light: #ff8787;
  --color-accent-dark: #d45555;
  
  /* Neutral Colors */
  --color-bg: #FAFAF8;
  --color-surface: #FFFFFF;
  --color-text: #1A1A1A;
  --color-text-muted: #6B6B6B;
  --color-text-light: #9A9A9A;
  --color-border: #E8E6E1;
  --color-border-light: #F0EFEB;
  --color-highlight: #FFF5F5;
  
  /* Accent Colors */
  --color-gold: #D4AF37;
  --color-gold-light: #E8C547;
  
  /* Legacy support */
  --color-accent-hover: var(--color-primary-dark);
  --color-accent-gold: var(--color-gold);
  --color-accent-red: var(--color-primary);
  --color-accent-light-old: #FFF8DC;
  
  /* Typography */
  --font-display: 'Playfair Display', Georgia, serif;
  --font-body: 'DM Sans', -apple-system, sans-serif;
  
  /* Spacing */
  --section-padding: clamp(3.5rem, 8vw, 7rem);
  --container-max: 1120px;
  --radius: 12px;
  --radius-sm: 8px;
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; -webkit-text-size-adjust: 100%; }
body {
  font-family: var(--font-body);
  color: var(--color-text);
  background: linear-gradient(135deg, #fafaf8 0%, #f8f6f4 50%, #f5f3f0 100%);
  background-attachment: fixed;
  line-height: 1.65;
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
  position: relative;
}
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 50%, rgba(196,69,105,0.02) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(255,107,107,0.02) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}
body > * {
  position: relative;
  z-index: 1;
}
img { max-width: 100%; height: auto; display: block; }
a { text-decoration: none; color: inherit; }
.container { 
  width: 100%; 
  max-width: var(--container-max); 
  margin: 0 auto; 
  padding: 0 1.25rem; 
  position: relative;
  z-index: 1;
}

/* CTA */
.cta-btn {
  display: inline-flex; align-items: center; gap: 0.5rem;
  background: var(--color-primary); color: #fff;
  font-family: var(--font-body); font-size: 1rem; font-weight: 600;
  padding: 1rem 2rem; border-radius: 60px; border: none; cursor: pointer;
  transition: all 0.3s cubic-bezier(0.22, 1, 0.36, 1);
  letter-spacing: -0.01em; text-align: center; justify-content: center; white-space: nowrap;
  box-shadow: 0 4px 15px rgba(196,69,105,0.3);
}
.cta-btn:hover { 
  background: var(--color-primary-dark); 
  transform: translateY(-2px); 
  box-shadow: 0 8px 30px rgba(196,69,105,0.4); 
}
.cta-btn:active { transform: translateY(0); }
.cta-btn svg { width: 18px; height: 18px; transition: transform 0.3s ease; }
.cta-btn:hover svg { transform: translateX(3px); }

/* Section headings */
.section-label {
  font-family: var(--font-body); font-size: 0.8rem; font-weight: 600;
  text-transform: uppercase; letter-spacing: 0.12em; color: var(--color-primary); margin-bottom: 1rem;
}
.section-title {
  font-family: var(--font-display); font-size: clamp(1.8rem, 4vw, 2.8rem);
  font-weight: 700; line-height: 1.2; color: var(--color-text); letter-spacing: -0.02em;
}
.section-subtitle { font-size: 1.1rem; color: var(--color-text-muted); margin-top: 1rem; max-width: 560px; line-height: 1.7; }

/* NAVBAR */
.navbar {
  position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
  background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-primary-light) 50%, var(--color-primary) 100%);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-bottom: 1px solid rgba(196,69,105,0.2);
  box-shadow: 0 4px 20px rgba(196,69,105,0.15);
  transition: all 0.3s ease;
}
.navbar.scrolled { 
  box-shadow: 0 4px 30px rgba(196,69,105,0.2);
  border-bottom-color: rgba(196,69,105,0.25);
}
.navbar-inner { display: flex; align-items: center; justify-content: space-between; height: 64px; }
.navbar-logo { 
  font-family: var(--font-display); 
  font-size: 1.35rem; 
  font-weight: 700; 
  color: #fff;
  display: flex;
  align-items: center;
  gap: 0.65rem;
  font-style: italic;
  letter-spacing: -0.01em;
}
.navbar-links { display: none; list-style: none; gap: 2rem; }
.navbar-links a { font-size: 0.9rem; font-weight: 500; color: rgba(255,255,255,0.95); transition: color 0.2s; }
.navbar-links a:hover { color: #fff; }
.navbar-cta { 
  font-size: 0.875rem !important; 
  padding: 0.65rem 1.5rem !important;
  background: rgba(255,255,255,0.2) !important;
  border: 1px solid rgba(255,255,255,0.3) !important;
}
.navbar-cta:hover {
  background: rgba(255,255,255,0.3) !important;
}
.menu-toggle { display: flex; flex-direction: column; gap: 5px; background: none; border: none; cursor: pointer; padding: 4px; }
.menu-toggle span { width: 22px; height: 2px; background: #fff; border-radius: 2px; transition: all 0.3s ease; }
.mobile-menu { 
  display: none; 
  position: fixed; 
  top: 64px; 
  left: 0; 
  right: 0; 
  bottom: 0; 
  background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-primary-light) 50%, var(--color-primary) 100%);
  z-index: 999; 
  padding: 2rem 1.25rem; 
}
.mobile-menu.active { display: flex; flex-direction: column; gap: 0.5rem; }
.mobile-menu a { 
  font-size: 1.25rem; 
  font-weight: 500; 
  padding: 1rem 0; 
  border-bottom: 1px solid rgba(255,255,255,0.2); 
  display: block;
  color: #fff;
}
.mobile-menu .cta-btn { margin-top: 1.5rem; width: 100%; }
@media (min-width: 768px) { .navbar-links { display: flex; } .menu-toggle { display: none; } }

/* HERO */
.hero { padding-top: calc(64px + var(--section-padding)); padding-bottom: var(--section-padding); }
.hero-content { text-align: center; max-width: 680px; margin: 0 auto; }
.hero-badge {
  display: inline-flex; align-items: center; gap: 0.5rem;
  background: rgba(255,107,107,0.1); 
  color: var(--color-primary);
  border: 1px solid rgba(196,69,105,0.2);
  font-size: 0.8rem; font-weight: 600; padding: 0.5rem 1rem; border-radius: 60px; margin-bottom: 1.5rem;
}
.hero-badge::before { content: ''; width: 6px; height: 6px; background: var(--color-gold); border-radius: 50%; }
.hero h1 {
  font-family: var(--font-display); font-size: clamp(2.2rem, 6vw, 3.5rem);
  font-weight: 700; line-height: 1.12; letter-spacing: -0.03em; margin-bottom: 1.25rem;
}
.hero h1 em { font-style: italic; color: var(--color-primary); }
.hero-sub {
  font-size: clamp(1rem, 2.5vw, 1.2rem); color: var(--color-text-muted); line-height: 1.7;
  margin-bottom: 2rem; max-width: 520px; margin-left: auto; margin-right: auto;
}
.hero-cta-group { display: flex; flex-direction: column; align-items: center; gap: 0.75rem; }
.hero-cta-note { font-size: 0.8rem; color: var(--color-text-muted); }
.hero-image {
  margin-top: 3rem; border-radius: var(--radius); overflow: hidden;
  box-shadow: 0 20px 60px rgba(196,69,105,0.12), 0 1px 3px rgba(0,0,0,0.04);
  border: 1px solid rgba(196,69,105,0.15); aspect-ratio: 16/10;
  background: var(--color-highlight); display: flex; align-items: center; justify-content: center;
  color: var(--color-text-muted); font-size: 0.9rem;
}

/* PROBLEM */
.problem { 
  padding: var(--section-padding) 0; 
  background: linear-gradient(180deg, #ffffff 0%, #fefefe 50%, #fafaf8 100%);
  border-top: 1px solid var(--color-border-light); 
  border-bottom: 1px solid var(--color-border-light);
  position: relative;
}
.problem::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(180deg, rgba(255,255,255,0.95) 0%, rgba(255,245,245,0.3) 100%);
  pointer-events: none;
}
.problem > .container {
  position: relative;
  z-index: 1;
}
.problem-grid { display: grid; gap: 1.5rem; margin-top: 2.5rem; }
.problem-card {
  background: #fff; 
  border: 1px solid var(--color-border-light); 
  border-radius: var(--radius);
  padding: 1.5rem; 
  display: flex; 
  gap: 1rem; 
  align-items: flex-start;
  box-shadow: 0 2px 12px rgba(196,69,105,0.06);
  transition: all 0.3s ease;
}
.problem-card:hover {
  box-shadow: 0 4px 20px rgba(196,69,105,0.12);
  border-color: rgba(196,69,105,0.2);
  transform: translateY(-2px);
}
.problem-icon {
  flex-shrink: 0; width: 40px; height: 40px; background: rgba(255,107,107,0.1);
  border-radius: var(--radius-sm); display: flex; align-items: center; justify-content: center; font-size: 1.2rem;
  border: 1px solid rgba(196,69,105,0.1);
}
.problem-card h3 { font-size: 1rem; font-weight: 600; margin-bottom: 0.35rem; }
.problem-card p { font-size: 0.9rem; color: var(--color-text-muted); line-height: 1.6; }
@media (min-width: 768px) { .problem-grid { grid-template-columns: repeat(3, 1fr); } }

/* SOLUTION */
.solution { 
  padding: var(--section-padding) 0; 
  background: linear-gradient(180deg, #fafaf8 0%, #ffffff 50%, #fefefe 100%);
  position: relative;
}
.solution::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(180deg, rgba(255,245,245,0.3) 0%, rgba(255,255,255,0.95) 100%);
  pointer-events: none;
}
.solution-content { display: grid; gap: 3rem; align-items: center; }
.solution-visual {
  border-radius: var(--radius); overflow: hidden; background: rgba(255,107,107,0.05);
  aspect-ratio: 4/3; display: flex; align-items: center; justify-content: center;
  color: var(--color-primary); font-size: 0.9rem; border: 1px solid rgba(196,69,105,0.15);
}
.solution-points { display: flex; flex-direction: column; gap: 1.25rem; margin-top: 1.5rem; }
.solution-point { display: flex; gap: 0.75rem; align-items: flex-start; }
.solution-check {
  flex-shrink: 0; width: 24px; height: 24px; background: var(--color-primary);
  border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-top: 2px;
}
.solution-check svg { width: 14px; height: 14px; stroke: #fff; stroke-width: 2.5; fill: none; }
.solution-point p { font-size: 0.95rem; line-height: 1.6; }
.solution-point strong { font-weight: 600; }
@media (min-width: 768px) { .solution-content { grid-template-columns: 1fr 1fr; gap: 4rem; } }

/* SOCIAL PROOF */
.proof { 
  padding: var(--section-padding) 0; 
  background: linear-gradient(180deg, #ffffff 0%, #fefefe 50%, #fafaf8 100%);
  border-top: 1px solid var(--color-border-light); 
  border-bottom: 1px solid var(--color-border-light);
  position: relative;
}
.proof::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(180deg, rgba(255,245,245,0.2) 0%, rgba(255,255,255,0.95) 100%);
  pointer-events: none;
}
.proof > .container {
  position: relative;
  z-index: 1;
}
.proof-stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; margin-bottom: 3rem; }
.stat { text-align: center; padding: 1.25rem; }
.stat-number { font-family: var(--font-display); font-size: clamp(2rem, 4vw, 2.8rem); font-weight: 700; color: var(--color-primary); letter-spacing: -0.02em; }
.stat-label { font-size: 0.85rem; color: var(--color-text-muted); margin-top: 0.25rem; }
.testimonials { display: grid; gap: 1.5rem; }
.testimonial { 
  background: rgba(255,255,255,0.95); 
  border: 1px solid var(--color-border-light); 
  border-radius: var(--radius); 
  padding: 1.75rem;
  box-shadow: 0 2px 12px rgba(196,69,105,0.06);
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.testimonial:hover {
  box-shadow: 0 4px 20px rgba(196,69,105,0.12);
  border-color: rgba(196,69,105,0.2);
}
.testimonial-stars { color: var(--color-gold); font-size: 0.9rem; letter-spacing: 2px; margin-bottom: 0.75rem; }
.testimonial p { font-size: 0.95rem; line-height: 1.7; color: var(--color-text); font-style: italic; }
.testimonial-author { display: flex; align-items: center; gap: 0.75rem; margin-top: 1.25rem; }
.testimonial-avatar {
  width: 40px; height: 40px; border-radius: 50%; background: rgba(255,107,107,0.1);
  border: 1px solid rgba(196,69,105,0.15);
  display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.85rem; color: var(--color-primary);
}
.testimonial-name { font-weight: 600; font-size: 0.9rem; }
.testimonial-role { font-size: 0.8rem; color: var(--color-text-muted); }
@media (min-width: 768px) { .proof-stats { grid-template-columns: repeat(4, 1fr); } .testimonials { grid-template-columns: repeat(2, 1fr); } }

/* SERVICES */
.services { padding: var(--section-padding) 0; }
.services-header { text-align: center; margin-bottom: 3rem; }
.services-header .section-subtitle { margin-left: auto; margin-right: auto; }
.services-grid { display: grid; gap: 1.25rem; }
.service-card {
  background: rgba(255,255,255,0.95); 
  border: 1px solid var(--color-border-light); 
  border-radius: var(--radius);
  padding: 2rem 1.5rem; 
  transition: all 0.3s ease;
  box-shadow: 0 2px 12px rgba(196,69,105,0.06);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.service-card:hover { 
  border-color: rgba(196,69,105,0.3); 
  box-shadow: 0 4px 20px rgba(196,69,105,0.12); 
  transform: translateY(-2px);
}
.service-icon {
  width: 48px; height: 48px; background: rgba(255,107,107,0.1); 
  border: 1px solid rgba(196,69,105,0.15);
  border-radius: var(--radius-sm);
  display: flex; align-items: center; justify-content: center; font-size: 1.4rem; margin-bottom: 1.25rem;
}
.service-card h3 { font-size: 1.1rem; font-weight: 600; margin-bottom: 0.5rem; }
.service-card p { font-size: 0.9rem; color: var(--color-text-muted); line-height: 1.65; }
@media (min-width: 768px) { .services-grid { grid-template-columns: repeat(3, 1fr); } }

/* PROCESS */
.process { 
  padding: var(--section-padding) 0; 
  background: linear-gradient(180deg, #fafaf8 0%, #ffffff 50%, #fefefe 100%);
  border-top: 1px solid var(--color-border-light); 
  border-bottom: 1px solid var(--color-border-light);
  position: relative;
}
.process::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(180deg, rgba(255,255,255,0.95) 0%, rgba(255,245,245,0.2) 100%);
  pointer-events: none;
}
.process-header { text-align: center; margin-bottom: 3rem; }
.process-header .section-subtitle { margin-left: auto; margin-right: auto; }
.process-steps { display: grid; gap: 1.5rem; max-width: 800px; margin: 0 auto; }
.process-step {
  display: flex; 
  gap: 1.25rem; 
  align-items: flex-start; 
  padding: 1.5rem;
  background: rgba(255,255,255,0.95); 
  border-radius: var(--radius); 
  border: 1px solid var(--color-border-light);
  box-shadow: 0 2px 12px rgba(196,69,105,0.06);
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.process-step:hover {
  box-shadow: 0 4px 20px rgba(196,69,105,0.12);
  border-color: rgba(196,69,105,0.2);
  transform: translateY(-2px);
}
.step-number {
  flex-shrink: 0; width: 44px; height: 44px; background: var(--color-primary); color: #fff;
  border-radius: 50%; display: flex; align-items: center; justify-content: center;
  font-weight: 700; font-size: 1.1rem; font-family: var(--font-display);
  box-shadow: 0 2px 8px rgba(196,69,105,0.3);
}
.process-step h3 { font-size: 1.05rem; font-weight: 600; margin-bottom: 0.35rem; }
.process-step p { font-size: 0.9rem; color: var(--color-text-muted); line-height: 1.6; }

/* PRICING */
.pricing { padding: var(--section-padding) 0; }
.pricing-header { text-align: center; margin-bottom: 3rem; }
.pricing-header .section-subtitle { margin-left: auto; margin-right: auto; }
.pricing-card {
  max-width: 480px; 
  margin: 0 auto; 
  background: rgba(255,255,255,0.98);
  border: 2px solid rgba(196,69,105,0.2); 
  border-radius: var(--radius);
  padding: 2.5rem 2rem; 
  text-align: center; 
  position: relative;
  box-shadow: 0 8px 30px rgba(196,69,105,0.12);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.pricing-popular {
  position: absolute; top: -14px; left: 50%; transform: translateX(-50%);
  background: var(--color-primary); color: #fff; font-size: 0.75rem; font-weight: 600;
  padding: 0.35rem 1rem; border-radius: 60px; text-transform: uppercase; letter-spacing: 0.08em;
  box-shadow: 0 2px 8px rgba(196,69,105,0.3);
}
.pricing-price { font-family: var(--font-display); font-size: clamp(2.5rem, 5vw, 3.2rem); font-weight: 700; color: var(--color-text); margin: 1rem 0 0.25rem; }
.pricing-period { font-size: 0.9rem; color: var(--color-text-muted); margin-bottom: 1.5rem; }
.pricing-features { list-style: none; text-align: left; margin-bottom: 2rem; }
.pricing-features li {
  padding: 0.6rem 0; border-bottom: 1px solid var(--color-border); font-size: 0.9rem;
  display: flex; align-items: center; gap: 0.6rem;
}
.pricing-features li::before { content: '‚úì'; color: var(--color-primary); font-weight: 700; font-size: 0.85rem; }
.pricing-card .cta-btn { width: 100%; }
.pricing-guarantee { font-size: 0.8rem; color: var(--color-text-muted); margin-top: 1rem; }

/* FAQ */
.faq { 
  padding: var(--section-padding) 0; 
  background: linear-gradient(180deg, #ffffff 0%, #fefefe 50%, #fafaf8 100%);
  border-top: 1px solid var(--color-border-light); 
  border-bottom: 1px solid var(--color-border-light);
  position: relative;
}
.faq::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(180deg, rgba(255,245,245,0.2) 0%, rgba(255,255,255,0.95) 100%);
  pointer-events: none;
}
.faq-header { text-align: center; margin-bottom: 3rem; }
.faq-list { max-width: 700px; margin: 0 auto; }
.faq-item { border-bottom: 1px solid var(--color-border-light); }
.faq-question {
  width: 100%; background: none; border: none; text-align: left; padding: 1.25rem 0;
  font-family: var(--font-body); font-size: 1rem; font-weight: 600; color: var(--color-text);
  cursor: pointer; display: flex; align-items: center; justify-content: space-between; gap: 1rem;
}
.faq-question::after { content: '+'; font-size: 1.3rem; font-weight: 400; color: var(--color-text-muted); transition: transform 0.3s ease; flex-shrink: 0; }
.faq-item.active .faq-question::after { transform: rotate(45deg); }
.faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.4s cubic-bezier(0.22, 1, 0.36, 1); }
.faq-answer-inner { padding-bottom: 1.25rem; font-size: 0.9rem; color: var(--color-text-muted); line-height: 1.7; }

/* FOOTER CTA */
.footer-cta { padding: var(--section-padding) 0; text-align: center; }
.footer-cta-inner { max-width: 560px; margin: 0 auto; }
.footer-cta .section-title { margin-bottom: 1rem; }
.footer-cta .section-subtitle { margin-left: auto; margin-right: auto; margin-bottom: 2rem; }
footer { 
  padding: 2.5rem 0; 
  background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-primary-light) 50%, var(--color-primary) 100%);
  border-top: 1px solid rgba(196,69,105,0.2);
  text-align: center; 
  font-size: 0.8rem; 
  color: rgba(255,255,255,0.95);
  box-shadow: 0 -4px 20px rgba(196,69,105,0.15);
}
footer a { 
  color: rgba(255,255,255,0.95); 
  text-decoration: underline; 
  transition: color 0.2s;
}
footer a:hover { 
  color: #fff; 
}

/* ANIMATIONS */
.fade-up {
  opacity: 0; transform: translateY(24px);
  transition: opacity 0.6s cubic-bezier(0.22,1,0.36,1), transform 0.6s cubic-bezier(0.22,1,0.36,1);
}
.fade-up.visible { opacity: 1; transform: translateY(0); }
.stagger > .fade-up:nth-child(1) { transition-delay: 0s; }
.stagger > .fade-up:nth-child(2) { transition-delay: 0.08s; }
.stagger > .fade-up:nth-child(3) { transition-delay: 0.16s; }
.stagger > .fade-up:nth-child(4) { transition-delay: 0.24s; }

/* PREMIUM ANIMATIONS */
.hero-image { 
  position: relative; 
  overflow: hidden;
  transform: translateZ(0);
  will-change: transform;
  transition: transform 0.1s ease-out;
}
.hero-image img { 
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
.stat-number { position: relative; }
.stat-number::after {
  content: attr(data-target);
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
}
.counter-animated { animation: countUp 1.5s ease-out forwards; }
@keyframes countUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* GLASSMORPHISM */
.navbar {
  background: rgba(255,107,107,0.85);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
}
.testimonial, .service-card {
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.3);
}

/* MICRO-INTERACTIONS */
.cta-btn {
  position: relative;
  overflow: hidden;
}
.cta-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}
.cta-btn:active::before {
  width: 300px;
  height: 300px;
}
.cta-btn span { position: relative; z-index: 1; }
.cta-btn.loading {
  pointer-events: none;
  opacity: 0.7;
}
.cta-btn.loading::after {
  content: '';
  position: absolute;
  width: 16px;
  height: 16px;
  top: 50%;
  left: 50%;
  margin-left: -8px;
  margin-top: -8px;
  border: 2px solid rgba(255,255,255,0.3);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}
@keyframes spin {
  to { transform: rotate(360deg); }
}
.success-message {
  position: fixed;
  top: 80px;
  left: 50%;
  transform: translateX(-50%) translateY(-20px);
  background: #4caf50;
  color: #fff;
  padding: 1rem 2rem;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
  z-index: 10000;
  opacity: 0;
  transition: all 0.3s ease;
}
.success-message.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* SCROLL PROGRESS */
.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--color-accent), var(--color-primary-light), var(--color-primary));
  z-index: 10001;
  transform-origin: left;
  transform: scaleX(0);
  transition: transform 0.1s ease-out;
}

/* SMOOTH SCROLL */
html { scroll-behavior: smooth; }
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
}

/* MAP SECTION */
.map-section { padding: var(--section-padding) 0; background: var(--color-surface); }
.map-container {
  border-radius: var(--radius); overflow: hidden;
  box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid var(--color-border);
  height: 450px; margin-top: 2rem;
}
.map-container iframe { width: 100%; height: 100%; border: none; }

/* CARD GRID - New Design */
.cards-section { padding: var(--section-padding) 0; }
.cards-header { text-align: center; margin-bottom: 3rem; }
.cards-header .section-subtitle { margin-left: auto; margin-right: auto; }
.cards-grid { display: grid; gap: 2rem; }
.card-item {
  background: #1a1a1a; border-radius: 32px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.2); overflow: hidden;
  display: flex; flex-direction: column; position: relative;
  min-height: 400px;
}
.card-top-section {
  background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-primary-light) 50%, var(--color-primary) 100%);
  height: 180px; position: relative; overflow: hidden;
}
.card-top-section::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  background: radial-gradient(circle at top right, rgba(255,255,255,0.2) 0%, transparent 70%);
}
.card-brand {
  position: absolute; top: 1.5rem; right: 1.5rem; text-align: right;
  z-index: 2;
}
.card-brand-name {
  font-size: 1.1rem; font-weight: 700; color: #fff;
  font-family: var(--font-display); margin-bottom: 0.25rem;
}
.card-brand-subtitle {
  font-size: 0.85rem; color: rgba(255,255,255,0.9); font-weight: 400;
}
.card-tab {
  position: absolute; left: 0; top: 140px; z-index: 3;
  background: #1a1a1a; padding: 1rem 1.5rem; padding-right: 2rem;
  border-radius: 0 20px 0 0; clip-path: polygon(0 0, calc(100% - 20px) 0, 100% 100%, 0 100%);
}
.card-tab-title {
  font-size: 1.1rem; font-weight: 700; color: #fff;
  font-family: var(--font-display); margin-bottom: 0.25rem;
}
.card-tab-subtitle {
  font-size: 0.8rem; color: rgba(255,255,255,0.7); font-weight: 400;
}
.card-content-area {
  background: #1a1a1a; flex-grow: 1; padding: 2rem 1.5rem 1.5rem;
  padding-top: 3rem; display: flex; flex-direction: column;
}
.card-footer {
  background: #1a1a1a; padding: 1.5rem; border-top: 1px solid rgba(255,255,255,0.1);
  display: flex; justify-content: space-between; align-items: center;
}
.card-stat-left {
  display: flex; align-items: baseline; gap: 0.5rem;
}
.card-stat-number {
  font-size: 1.8rem; font-weight: 700; color: #fff;
  font-family: var(--font-display);
}
.card-stat-label {
  font-size: 0.9rem; color: rgba(255,255,255,0.8); font-weight: 400;
}
.card-stat-right {
  font-size: 0.9rem; color: rgba(255,255,255,0.8); font-weight: 400;
}
@media (min-width: 768px) { .cards-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1024px) { .cards-grid { grid-template-columns: repeat(3, 1fr); } }

/* BOOKING FORM */
.booking-form {
  max-width: 600px;
  margin: 2rem auto 0;
  background: #fff;
  padding: 2rem;
  border-radius: var(--radius);
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}
.form-group {
  margin-bottom: 1.5rem;
}
.form-group label {
  display: block;
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--color-text);
  margin-bottom: 0.5rem;
}
.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  font-family: var(--font-body);
  font-size: 1rem;
  transition: all 0.3s ease;
  background: #fff;
}
.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(196,69,105,0.1);
}
.form-group textarea {
  resize: vertical;
  min-height: 100px;
}
.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}
.form-error {
  color: #d32f2f;
  font-size: 0.85rem;
  margin-top: 0.25rem;
  display: none;
}
.form-group.error .form-error {
  display: block;
}
.form-group.error input,
.form-group.error select,
.form-group.error textarea {
  border-color: #d32f2f;
}

/* MENU FILTERS */
.menu-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  justify-content: center;
  margin-bottom: 2rem;
}
.menu-filter-btn {
  padding: 0.5rem 1.25rem;
  border: 2px solid var(--color-border);
  background: #fff;
  border-radius: 25px;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  color: var(--color-text-muted);
}
.menu-filter-btn:hover,
.menu-filter-btn.active {
  border-color: var(--color-primary);
  background: var(--color-primary);
  color: #fff;
}
.menu-item {
  transition: all 0.3s ease;
}
.menu-item.hidden {
  display: none;
}
.menu-item.expanded .menu-item-details {
  max-height: 500px;
  opacity: 1;
}
.menu-item-details {
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition: all 0.4s ease;
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--color-border);
}
.menu-item-price {
  font-family: var(--font-display);
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--color-primary);
  margin-left: auto;
}
.menu-item-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  cursor: pointer;
}

/* WHATSAPP BUTTON */
.whatsapp-float {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  background: #25d366;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 20px rgba(37,211,102,0.4);
  z-index: 997;
  transition: all 0.3s ease;
  animation: pulse 2s infinite;
}
.whatsapp-float:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 30px rgba(37,211,102,0.6);
}
.whatsapp-float svg {
  width: 32px;
  height: 32px;
  fill: #fff;
}
@keyframes pulse {
  0%, 100% { box-shadow: 0 4px 20px rgba(37,211,102,0.4); }
  50% { box-shadow: 0 4px 30px rgba(37,211,102,0.7); }
}
@media (max-width: 767px) {
  .whatsapp-float {
    bottom: 90px;
  }
}

/* GALLERY */
.gallery-section {
  padding: var(--section-padding) 0;
}
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 1rem;
  margin-top: 2rem;
}
.gallery-item {
  position: relative;
  aspect-ratio: 1;
  overflow: hidden;
  border-radius: var(--radius);
  cursor: pointer;
  background: var(--color-highlight);
}
.gallery-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}
.gallery-item:hover img {
  transform: scale(1.1);
}
.lightbox {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.95);
  z-index: 10000;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}
.lightbox.active {
  display: flex;
}
.lightbox-content {
  max-width: 90vw;
  max-height: 90vh;
  position: relative;
}
.lightbox-content img {
  max-width: 100%;
  max-height: 90vh;
  object-fit: contain;
  border-radius: 8px;
}
.lightbox-close {
  position: absolute;
  top: -40px;
  right: 0;
  background: none;
  border: none;
  color: #fff;
  font-size: 2rem;
  cursor: pointer;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.lightbox-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,0.2);
  border: none;
  color: #fff;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  transition: all 0.3s ease;
}
.lightbox-nav:hover {
  background: rgba(255,255,255,0.3);
}
.lightbox-prev {
  left: 20px;
}
.lightbox-next {
  right: 20px;
}

/* SOCIAL ICONS */
.social-icons {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 1.5rem;
}
.social-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(255,255,255,0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  color: #fff;
}
.social-icon:hover {
  background: rgba(255,255,255,0.3);
  transform: translateY(-3px);
}
.social-icon svg {
  width: 20px;
  height: 20px;
}

/* SKIP TO CONTENT */
.skip-link {
  position: absolute;
  top: -100px;
  left: 0;
  background: var(--color-primary);
  color: #fff;
  padding: 1rem;
  z-index: 10002;
  text-decoration: none;
}
.skip-link:focus {
  top: 0;
}

/* MOBILE CTA BAR */
.mobile-cta-bar {
  display: none; position: fixed; bottom: 0; left: 0; right: 0;
  background: var(--color-surface); border-top: 1px solid var(--color-border);
  padding: 0.75rem 1.25rem; z-index: 998; box-shadow: 0 -4px 20px rgba(0,0,0,0.06);
}
.mobile-cta-bar .cta-btn { width: 100%; }
@media (max-width: 767px) { .mobile-cta-bar.show { display: block; } body.has-mobile-cta { padding-bottom: 80px; } }
</style>
</head>
<body>

<!-- SKIP TO CONTENT -->
<a href="#main-content" class="skip-link">Salta al contenuto principale</a>

<!-- SCROLL PROGRESS -->
<div class="scroll-progress" id="scroll-progress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>

<!-- WHATSAPP FLOAT -->
<a href="https://wa.me/390544453956?text=Ciao%20Pepita,%20vorrei%20prenotare%20un%20tavolo" 
   class="whatsapp-float" 
   target="_blank" 
   rel="noopener noreferrer"
   aria-label="Contattaci su WhatsApp">
  <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
  </svg>
</a>

<!-- NAVBAR -->
<nav class="navbar" id="navbar">
  <div class="container navbar-inner">
    <a href="#" class="navbar-logo" style="position:relative;"><img src="assets/logo.png" alt="Pepita" style="width:36px;height:36px;margin-right:0.65rem;flex-shrink:0;display:block;" />Pepita</a>
    <ul class="navbar-links">
      <li><a href="#servizi">Menu</a></li>
      <li><a href="#come-funziona">Chi Siamo</a></li>
      <li><a href="#recensioni">Recensioni</a></li>
      <li><a href="#faq">FAQ</a></li>
    </ul>
    <a href="#contatto" class="cta-btn navbar-cta" style="display:none" id="nav-cta">Prenota un Tavolo</a>
    <button class="menu-toggle" id="menu-toggle" aria-label="Menu"><span></span><span></span><span></span></button>
  </div>
</nav>
<div class="mobile-menu" id="mobile-menu">
  <a href="#servizi" onclick="closeMenu()">Menu</a>
  <a href="#come-funziona" onclick="closeMenu()">Chi Siamo</a>
  <a href="#recensioni" onclick="closeMenu()">Recensioni</a>
  <a href="#faq" onclick="closeMenu()">FAQ</a>
  <a href="#contatto" class="cta-btn" onclick="closeMenu()">Prenota un Tavolo <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
</div>

<!-- MAIN CONTENT -->
<main id="main-content">

<!-- 1. HERO -->
<section class="hero">
  <div class="container">
    <div class="hero-content">
      <div class="hero-badge fade-up">Bar & Restaurant ¬∑ Ravenna</div>
      <h1 class="fade-up">Autentica Cucina Italiana<br><em>a Ravenna</em></h1>
      <p class="hero-sub fade-up">Scopri i sapori tradizionali della Romagna in un ambiente accogliente. Terrazza all'aperto disponibile.</p>
      <div class="hero-cta-group fade-up">
        <a href="#contatto" class="cta-btn">Prenota un Tavolo <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
        <span class="hero-cta-note">Aperto tutti i giorni ¬∑ Terrazza disponibile</span>
      </div>
    </div>
    <div class="hero-image fade-up">
      <img src="assets/header-facade.png" alt="Pepita Bar & Restaurant - Facciata" style="width:100%;height:100%;object-fit:cover;" />
    </div>
  </div>
</section>

<!-- 2. PROBLEM -->
<section class="problem">
  <div class="container">
    <div class="section-label fade-up">La nostra filosofia</div>
    <h2 class="section-title fade-up">Perch√© scegliere Pepita</h2>
    <p class="section-subtitle fade-up">Un'esperienza culinaria che unisce tradizione e qualit√† in ogni piatto.</p>
    <div class="problem-grid stagger">
      <div class="problem-card fade-up"><div class="problem-icon">üçù</div><div><h3>Ingredienti Freschi</h3><p>Selezioniamo quotidianamente prodotti locali di alta qualit√† per garantire il sapore autentico.</p></div></div>
      <div class="problem-card fade-up"><div class="problem-icon">üåø</div><div><h3>Terrazza all'Aperto</h3><p>Goditi i tuoi pasti nella nostra accogliente terrazza, perfetta per ogni stagione.</p></div></div>
      <div class="problem-card fade-up"><div class="problem-icon">üë®‚Äçüç≥</div><div><h3>Cucina Tradizionale</h3><p>Ricette della tradizione romagnola preparate con passione e dedizione.</p></div></div>
    </div>
  </div>
</section>

<!-- 3. SOLUTION -->
<section class="solution">
  <div class="container">
    <div class="solution-content">
      <div class="solution-visual fade-up">{{Immagine/mockup}}</div>
      <div>
        <div class="section-label fade-up">La nostra proposta</div>
        <h2 class="section-title fade-up">Un'esperienza da ricordare</h2>
        <div class="solution-points">
          <div class="solution-point fade-up"><div class="solution-check"><svg viewBox="0 0 24 24"><path d="M5 12l5 5L20 7"/></svg></div><p><strong>Menu Vario</strong> ‚Äî Dalle specialit√† della casa ai piatti della tradizione, c'√® sempre qualcosa per tutti i gusti.</p></div>
          <div class="solution-point fade-up"><div class="solution-check"><svg viewBox="0 0 24 24"><path d="M5 12l5 5L20 7"/></svg></div><p><strong>Atmosfera Accogliente</strong> ‚Äî Ambiente informale e familiare, perfetto per cene romantiche o serate con amici.</p></div>
          <div class="solution-point fade-up"><div class="solution-check"><svg viewBox="0 0 24 24"><path d="M5 12l5 5L20 7"/></svg></div><p><strong>Servizio Professionale</strong> ‚Äî Staff cordiale e attento alle tue esigenze per rendere ogni visita speciale.</p></div>
        </div>
        <div style="margin-top:2rem" class="fade-up">
          <a href="#contatto" class="cta-btn">Prenota il Tuo Tavolo <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- 4. SOCIAL PROOF -->
<section class="proof" id="recensioni">
  <div class="container">
    <div style="text-align:center">
      <div class="section-label fade-up">Cosa dicono di noi</div>
      <h2 class="section-title fade-up">I nostri clienti ci amano</h2>
    </div>
    <div class="proof-stats stagger" style="margin-top:2.5rem">
      <div class="stat fade-up"><div class="stat-number">500+</div><div class="stat-label">Clienti Soddisfatti</div></div>
      <div class="stat fade-up"><div class="stat-number">4.8</div><div class="stat-label">Valutazione Media</div></div>
      <div class="stat fade-up"><div class="stat-number">10+</div><div class="stat-label">Anni di Esperienza</div></div>
      <div class="stat fade-up"><div class="stat-number">100%</div><div class="stat-label">Ingredienti Freschi</div></div>
    </div>
    <div class="testimonials stagger" style="margin-top:3rem">
      <div class="testimonial fade-up">
        <div class="testimonial-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
        <p>"Cena fantastica! Il cibo √® eccellente e il servizio impeccabile. La terrazza √® bellissima, torneremo sicuramente."</p>
        <div class="testimonial-author">
          <div class="testimonial-avatar">MR</div>
          <div><div class="testimonial-name">Marco Rossi</div><div class="testimonial-role">Cliente</div></div>
        </div>
      </div>
      <div class="testimonial fade-up">
        <div class="testimonial-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
        <p>"Uno dei migliori ristoranti di Ravenna. Piatti tradizionali preparati con cura, ambiente accogliente e prezzi giusti."</p>
        <div class="testimonial-author">
          <div class="testimonial-avatar">LB</div>
          <div><div class="testimonial-name">Laura Bianchi</div><div class="testimonial-role">Cliente</div></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- 5. SERVICES -->
<section class="services" id="servizi">
  <div class="container">
    <div class="services-header">
      <div class="section-label fade-up">Il nostro menu</div>
      <h2 class="section-title fade-up">Cosa offriamo</h2>
      <p class="section-subtitle fade-up">Dalla colazione alla cena, passando per aperitivi e pranzi di lavoro.</p>
    </div>
    <div class="menu-filters fade-up">
      <button class="menu-filter-btn active" data-filter="all" aria-label="Mostra tutti i piatti">Tutti</button>
      <button class="menu-filter-btn" data-filter="colazione" aria-label="Filtra colazione">Colazione</button>
      <button class="menu-filter-btn" data-filter="pranzo" aria-label="Filtra pranzo">Pranzo</button>
      <button class="menu-filter-btn" data-filter="cena" aria-label="Filtra cena">Cena</button>
      <button class="menu-filter-btn" data-filter="aperitivo" aria-label="Filtra aperitivo">Aperitivo</button>
      <button class="menu-filter-btn" data-filter="dolci" aria-label="Filtra dolci">Dolci</button>
    </div>
    <div class="services-grid stagger">
      <div class="service-card menu-item fade-up" data-category="pranzo cena">
        <div class="menu-item-header">
          <div class="service-icon">üçù</div>
          <div style="flex:1;"><h3>Primi Piatti</h3></div>
          <div class="menu-item-price">‚Ç¨12-18</div>
        </div>
        <p>Pasta fresca fatta in casa e risotti della tradizione romagnola.</p>
        <div class="menu-item-details">
          <p style="font-size:0.85rem;color:var(--color-text-muted);margin-top:0.5rem;"><strong>Specialit√†:</strong> Tagliatelle al rag√π, Risotto ai funghi porcini, Lasagne della casa</p>
        </div>
      </div>
      <div class="service-card menu-item fade-up" data-category="pranzo cena">
        <div class="menu-item-header">
          <div class="service-icon">ü•©</div>
          <div style="flex:1;"><h3>Secondi Piatti</h3></div>
          <div class="menu-item-price">‚Ç¨18-25</div>
        </div>
        <p>Carne e pesce di qualit√†, preparati con tecniche tradizionali.</p>
        <div class="menu-item-details">
          <p style="font-size:0.85rem;color:var(--color-text-muted);margin-top:0.5rem;"><strong>Specialit√†:</strong> Bistecca alla griglia, Branzino al forno, Cotoletta alla milanese</p>
        </div>
      </div>
      <div class="service-card menu-item fade-up" data-category="aperitivo">
        <div class="menu-item-header">
          <div class="service-icon">üç∑</div>
          <div style="flex:1;"><h3>Aperitivi</h3></div>
          <div class="menu-item-price">‚Ç¨8-15</div>
        </div>
        <p>Selezione di vini locali e cocktail artigianali ogni sera.</p>
        <div class="menu-item-details">
          <p style="font-size:0.85rem;color:var(--color-text-muted);margin-top:0.5rem;"><strong>Specialit√†:</strong> Aperitivo completo con stuzzichini, Negroni artigianali, Vini della Romagna</p>
        </div>
      </div>
      <div class="service-card menu-item fade-up" data-category="colazione">
        <div class="menu-item-header">
          <div class="service-icon">‚òï</div>
          <div style="flex:1;"><h3>Colazione</h3></div>
          <div class="menu-item-price">‚Ç¨3-8</div>
        </div>
        <p>Cornetti freschi, caff√® e dolci fatti in casa ogni mattina.</p>
        <div class="menu-item-details">
          <p style="font-size:0.85rem;color:var(--color-text-muted);margin-top:0.5rem;"><strong>Specialit√†:</strong> Cornetto integrale, Cappuccino con schiuma d'arte, Torta della casa</p>
        </div>
      </div>
      <div class="service-card menu-item fade-up" data-category="pranzo cena">
        <div class="menu-item-header">
          <div class="service-icon">üåø</div>
          <div style="flex:1;"><h3>Opzioni Vegetariane</h3></div>
          <div class="menu-item-price">‚Ç¨10-16</div>
        </div>
        <p>Piatti vegetariani e vegani disponibili su richiesta.</p>
        <div class="menu-item-details">
          <p style="font-size:0.85rem;color:var(--color-text-muted);margin-top:0.5rem;"><strong>Specialit√†:</strong> Risotto alle verdure, Parmigiana di melanzane, Insalata gourmet</p>
        </div>
      </div>
      <div class="service-card menu-item fade-up" data-category="dolci">
        <div class="menu-item-header">
          <div class="service-icon">üéÇ</div>
          <div style="flex:1;"><h3>Dolci</h3></div>
          <div class="menu-item-price">‚Ç¨6-12</div>
        </div>
        <p>Dessert fatti in casa e torte per occasioni speciali.</p>
        <div class="menu-item-details">
          <p style="font-size:0.85rem;color:var(--color-text-muted);margin-top:0.5rem;"><strong>Specialit√†:</strong> Tiramis√π della casa, Panna cotta ai frutti di bosco, Torta al cioccolato</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- 6. PROCESS -->
<section class="process" id="come-funziona">
  <div class="container">
    <div class="process-header">
      <div class="section-label fade-up">Come funziona</div>
      <h2 class="section-title fade-up">Prenota in 3 semplici passi</h2>
      <p class="section-subtitle fade-up">Prenotare un tavolo non √® mai stato cos√¨ facile.</p>
    </div>
    <div class="process-steps stagger">
      <div class="process-step fade-up"><div class="step-number">1</div><div><h3>Chiama o Prenota Online</h3><p>Contattaci telefonicamente o compila il form di prenotazione. Ti risponderemo entro poche ore.</p></div></div>
      <div class="process-step fade-up"><div class="step-number">2</div><div><h3>Conferma la Tua Prenotazione</h3><p>Riceverai una conferma con tutti i dettagli: data, ora e numero di persone.</p></div></div>
      <div class="process-step fade-up"><div class="step-number">3</div><div><h3>Vieni a Trovarci</h3><p>Presentati all'ora concordata e goditi un'esperienza culinaria indimenticabile.</p></div></div>
    </div>
  </div>
</section>

<!-- 7. PRICING -->
<section class="pricing" id="contatto">
  <div class="container">
    <div class="pricing-header">
      <div class="section-label fade-up">Contatti</div>
      <h2 class="section-title fade-up">Prenota il tuo tavolo</h2>
      <p class="section-subtitle fade-up">Siamo aperti tutti i giorni. Chiamaci o vieni a trovarci.</p>
    </div>
    <div class="pricing-card fade-up">
      <div class="pricing-popular">Info</div>
      <h3 style="font-size:1.1rem;font-weight:600">Pepita Bar & Restaurant</h3>
      <div class="pricing-price" style="font-size:1.5rem;margin:1rem 0">0544 453956</div>
      <div class="pricing-period">Telefono ¬∑ Disponibile tutti i giorni</div>
      <ul class="pricing-features">
        <li><a href="https://maps.google.com/?q=Via+Giuseppe+di+Vittorio+14+Ravenna" target="_blank" style="color:inherit;text-decoration:none;">Via Giuseppe di Vittorio, 14</a></li>
        <li>48123 Ravenna RA</li>
        <li>Terrazza all'aperto disponibile</li>
        <li>Aperto tutti i giorni</li>
        <li>Prenotazioni consigliate</li>
        <li>Parcheggio nelle vicinanze</li>
        <li>Accessibile con mezzi pubblici</li>
      </ul>
      <a href="tel:0544453956" class="cta-btn">Chiama Ora <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
      <p class="pricing-guarantee">Ti aspettiamo per un'esperienza indimenticabile.</p>
    </div>
    <form class="booking-form fade-up" id="booking-form" aria-label="Form di prenotazione">
      <h3 style="font-size:1.3rem;font-weight:600;margin-bottom:1.5rem;text-align:center;">Prenota il tuo tavolo</h3>
      <div class="form-row">
        <div class="form-group">
          <label for="booking-name">Nome *</label>
          <input type="text" id="booking-name" name="name" required aria-required="true" aria-describedby="name-error">
          <span class="form-error" id="name-error">Inserisci il tuo nome</span>
        </div>
        <div class="form-group">
          <label for="booking-email">Email *</label>
          <input type="email" id="booking-email" name="email" required aria-required="true" aria-describedby="email-error">
          <span class="form-error" id="email-error">Inserisci un'email valida</span>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="booking-phone">Telefono *</label>
          <input type="tel" id="booking-phone" name="phone" required aria-required="true" aria-describedby="phone-error">
          <span class="form-error" id="phone-error">Inserisci il tuo telefono</span>
        </div>
        <div class="form-group">
          <label for="booking-date">Data *</label>
          <input type="date" id="booking-date" name="date" required aria-required="true" aria-describedby="date-error" min="">
          <span class="form-error" id="date-error">Seleziona una data</span>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="booking-time">Ora *</label>
          <select id="booking-time" name="time" required aria-required="true" aria-describedby="time-error">
            <option value="">Seleziona un'ora</option>
            <option value="12:00">12:00</option>
            <option value="12:30">12:30</option>
            <option value="13:00">13:00</option>
            <option value="13:30">13:30</option>
            <option value="19:00">19:00</option>
            <option value="19:30">19:30</option>
            <option value="20:00">20:00</option>
            <option value="20:30">20:30</option>
            <option value="21:00">21:00</option>
          </select>
          <span class="form-error" id="time-error">Seleziona un'ora</span>
        </div>
        <div class="form-group">
          <label for="booking-guests">Numero persone *</label>
          <select id="booking-guests" name="guests" required aria-required="true" aria-describedby="guests-error">
            <option value="">Seleziona</option>
            <option value="1">1 persona</option>
            <option value="2">2 persone</option>
            <option value="3">3 persone</option>
            <option value="4">4 persone</option>
            <option value="5">5 persone</option>
            <option value="6">6 persone</option>
            <option value="7+">7+ persone</option>
          </select>
          <span class="form-error" id="guests-error">Seleziona il numero di persone</span>
        </div>
      </div>
      <div class="form-group">
        <label for="booking-notes">Note aggiuntive</label>
        <textarea id="booking-notes" name="notes" rows="3" placeholder="Allergie, preferenze alimentari, occasioni speciali..."></textarea>
      </div>
      <button type="submit" class="cta-btn" style="width:100%;margin-top:1rem;">
        <span>Invia Prenotazione</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </button>
    </form>
  </div>
</section>

<!-- MAP SECTION -->
<section class="map-section">
  <div class="container">
    <div class="section-label fade-up">Dove siamo</div>
    <h2 class="section-title fade-up">Vieni a trovarci</h2>
    <p class="section-subtitle fade-up">Via Giuseppe di Vittorio, 14, 48123 Ravenna RA</p>
    <div class="map-container fade-up">
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2878.5!2d12.203!3d44.417!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x132cc2c8c8c8c8c9%3A0x8c8c8c8c8c8c8c8c!2sVia%20Giuseppe%20di%20Vittorio%2C%2014%2C%2048123%20Ravenna%20RA!5e0!3m2!1sit!2sit!4v1234567890" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </div>
</section>

<!-- CARDS SECTION -->
<section class="cards-section" id="esperienze">
  <div class="container">
    <div class="cards-header">
      <div class="section-label fade-up">Le nostre esperienze</div>
      <h2 class="section-title fade-up">Scopri Pepita</h2>
      <p class="section-subtitle fade-up">Momenti speciali da vivere nel cuore di Ravenna</p>
    </div>
    <div class="cards-grid stagger">
      <div class="card-item fade-up">
        <div class="card-top-section">
          <div class="card-brand">
            <div class="card-brand-name">Pepita</div>
            <div class="card-brand-subtitle">Bar & Restaurant</div>
          </div>
        </div>
        <div class="card-tab">
          <div class="card-tab-title">Cucina tradizionale</div>
          <div class="card-tab-subtitle">Sapori autentici</div>
        </div>
        <div class="card-content-area">
          <p style="color:rgba(255,255,255,0.9);font-size:0.95rem;line-height:1.7;margin-top:auto;">Lontano dal trambusto della citt√†, la tradizione culinaria romagnola si estende in ogni piatto, preparato con ingredienti freschi e passione autentica.</p>
        </div>
        <div class="card-footer">
          <div class="card-stat-left">
            <span class="card-stat-number">15</span>
            <span class="card-stat-label">Piatti</span>
          </div>
          <div class="card-stat-right">500+ Clienti</div>
        </div>
      </div>
      <div class="card-item fade-up">
        <div class="card-top-section">
          <div class="card-brand">
            <div class="card-brand-name">Pepita</div>
            <div class="card-brand-subtitle">Bar & Restaurant</div>
          </div>
        </div>
        <div class="card-tab">
          <div class="card-tab-title">Terrazza all'aperto</div>
          <div class="card-tab-subtitle">Atmosfera unica</div>
        </div>
        <div class="card-content-area">
          <p style="color:rgba(255,255,255,0.9);font-size:0.95rem;line-height:1.7;margin-top:auto;">Nella nostra accogliente terrazza, lontano dal rumore cittadino, puoi goderti un momento di pace mentre assapori i nostri piatti preparati con cura.</p>
        </div>
        <div class="card-footer">
          <div class="card-stat-left">
            <span class="card-stat-number">22</span>
            <span class="card-stat-label">Tavoli</span>
          </div>
          <div class="card-stat-right">4.8‚òÖ Recensioni</div>
        </div>
      </div>
      <div class="card-item fade-up">
        <div class="card-top-section">
          <div class="card-brand">
            <div class="card-brand-name">Pepita</div>
            <div class="card-brand-subtitle">Bar & Restaurant</div>
          </div>
        </div>
        <div class="card-tab">
          <div class="card-tab-title">Momenti speciali</div>
          <div class="card-tab-subtitle">Esperienze da ricordare</div>
        </div>
        <div class="card-content-area">
          <p style="color:rgba(255,255,255,0.9);font-size:0.95rem;line-height:1.7;margin-top:auto;">Un ambiente familiare dove ogni visita diventa un'esperienza indimenticabile. Perfetto per cene romantiche, pranzi di lavoro o serate con amici.</p>
        </div>
        <div class="card-footer">
          <div class="card-stat-left">
            <span class="card-stat-number">10</span>
            <span class="card-stat-label">Anni</span>
          </div>
          <div class="card-stat-right">100% Freschi</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- 8. FAQ -->
<section class="faq" id="faq">
  <div class="container">
    <div class="faq-header">
      <div class="section-label fade-up">Domande frequenti</div>
      <h2 class="section-title fade-up">Tutto quello che vuoi sapere</h2>
    </div>
    <div class="faq-list">
      <div class="faq-item fade-up"><button class="faq-question">Quali sono gli orari di apertura?</button><div class="faq-answer"><div class="faq-answer-inner">Siamo aperti tutti i giorni. Per gli orari precisi ti consigliamo di chiamarci al 0544 453956.</div></div></div>
      <div class="faq-item fade-up"><button class="faq-question">√à necessaria la prenotazione?</button><div class="faq-answer"><div class="faq-answer-inner">La prenotazione √® consigliata, soprattutto nei weekend e per gruppi numerosi. Puoi chiamarci o venire direttamente in loco.</div></div></div>
      <div class="faq-item fade-up"><button class="faq-question">Avete opzioni vegetariane o vegane?</button><div class="faq-answer"><div class="faq-answer-inner">S√¨, abbiamo diverse opzioni vegetariane e vegane nel nostro menu. Informa il cameriere delle tue preferenze alimentari.</div></div></div>
      <div class="faq-item fade-up"><button class="faq-question">La terrazza √® disponibile tutto l'anno?</button><div class="faq-answer"><div class="faq-answer-inner">S√¨, la nostra terrazza √® disponibile tutto l'anno. In inverno √® coperta e riscaldata per garantire il massimo comfort.</div></div></div>
      <div class="faq-item fade-up"><button class="faq-question">Accettate pagamenti con carta?</button><div class="faq-answer"><div class="faq-answer-inner">S√¨, accettiamo pagamenti con carta di credito, bancomat e contanti.</div></div></div>
    </div>
  </div>
</section>

<!-- 9. FOOTER CTA -->
<section class="footer-cta">
  <div class="container">
    <div class="footer-cta-inner">
      <h2 class="section-title fade-up">Pronto per un'esperienza indimenticabile?</h2>
      <p class="section-subtitle fade-up">Prenota il tuo tavolo oggi e vieni a scoprire i sapori autentici della Romagna.</p>
      <a href="#contatto" class="cta-btn fade-up">Prenota un Tavolo <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
    </div>
  </div>
</section>

<!-- GALLERY SECTION -->
<section class="gallery-section" id="galleria">
  <div class="container">
    <div class="section-label fade-up">Galleria</div>
    <h2 class="section-title fade-up">I nostri momenti</h2>
    <p class="section-subtitle fade-up">Scopri l'atmosfera di Pepita attraverso le nostre foto</p>
    <div class="gallery-grid fade-up">
      <div class="gallery-item" data-index="0">
        <img src="assets/header-facade.png" alt="Facciata Pepita" loading="lazy">
      </div>
      <div class="gallery-item" data-index="1">
        <div style="width:100%;height:100%;background:linear-gradient(135deg,#ff6b6b,#ee5a6f);display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;">Foto 2</div>
      </div>
      <div class="gallery-item" data-index="2">
        <div style="width:100%;height:100%;background:linear-gradient(135deg,#ee5a6f,#c44569);display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;">Foto 3</div>
      </div>
      <div class="gallery-item" data-index="3">
        <div style="width:100%;height:100%;background:linear-gradient(135deg,#c44569,#ff6b6b);display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;">Foto 4</div>
      </div>
    </div>
  </div>
</section>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox" role="dialog" aria-label="Galleria foto" aria-modal="true">
  <button class="lightbox-close" aria-label="Chiudi galleria">&times;</button>
  <button class="lightbox-nav lightbox-prev" aria-label="Foto precedente">&#8249;</button>
  <div class="lightbox-content">
    <img src="" alt="" id="lightbox-img">
  </div>
  <button class="lightbox-nav lightbox-next" aria-label="Foto successiva">&#8250;</button>
</div>

</main>

<footer><div class="container">
  <p>&copy; 2025 Pepita Bar & Restaurant ¬∑ <a href="https://maps.google.com/?q=Via+Giuseppe+di+Vittorio+14+Ravenna" target="_blank" style="color:inherit;">Via Giuseppe di Vittorio, 14, 48123 Ravenna RA</a> ¬∑ Tel. <a href="tel:0544453956" style="color:inherit;">0544 453956</a> ¬∑ <a href="#">Privacy Policy</a></p>
  <div class="social-icons">
    <a href="https://www.instagram.com/pepita_ravenna" target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="Seguici su Instagram">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
    </a>
    <a href="https://www.facebook.com/pepita.ravenna" target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="Seguici su Facebook">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
    </a>
  </div>
</div></footer>

<!-- MOBILE STICKY CTA -->
<div class="mobile-cta-bar" id="mobile-cta-bar">
  <a href="#contatto" class="cta-btn">Prenota un Tavolo <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
</div>

<script>
// Debounce function for performance
function debounce(func, wait) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => { clearTimeout(timeout); func(...args); };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

// Navbar scroll
const navbar=document.getElementById('navbar'),navCta=document.getElementById('nav-cta');
const handleScroll = debounce(() => {
  if(window.scrollY>50){
    navbar.classList.add('scrolled');
    if(window.innerWidth>=768) navCta.style.display='inline-flex';
  } else {
    navbar.classList.remove('scrolled');
    navCta.style.display='none';
  }
}, 10);
window.addEventListener('scroll', handleScroll, { passive: true });

// Mobile menu
const menuToggle=document.getElementById('menu-toggle'),mobileMenu=document.getElementById('mobile-menu');
menuToggle.addEventListener('click',()=>{mobileMenu.classList.toggle('active');document.body.style.overflow=mobileMenu.classList.contains('active')?'hidden':''});
function closeMenu(){mobileMenu.classList.remove('active');document.body.style.overflow=''}

// FAQ accordion
document.querySelectorAll('.faq-question').forEach(b=>{
  b.addEventListener('click',()=>{
    const i=b.parentElement,a=i.querySelector('.faq-answer'),w=i.classList.contains('active');
    document.querySelectorAll('.faq-item').forEach(x=>{x.classList.remove('active');x.querySelector('.faq-answer').style.maxHeight=null});
    if(!w){i.classList.add('active');a.style.maxHeight=a.scrollHeight+'px'}
  });
  b.addEventListener('keydown',(e)=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();b.click()}});
});

// Intersection Observer for fade-up animations
const observer=new IntersectionObserver(e=>{
  e.forEach(x=>{
    if(x.isIntersecting){
      x.target.classList.add('visible');
      // Counter animation for stats
      if(x.target.classList.contains('stat-number')){
        const target=x.target.textContent.replace(/[^0-9.]/g,'');
        if(target&&!x.target.dataset.animated){
          x.target.dataset.animated='true';
          animateCounter(x.target,target);
        }
      }
    }
  })
},{threshold:0.1,rootMargin:'0px 0px -40px 0px'});
document.querySelectorAll('.fade-up').forEach(el=>observer.observe(el));

// Mobile CTA bar
const mobileCta=document.getElementById('mobile-cta-bar');
new IntersectionObserver(e=>{
  e.forEach(x=>{
    if(!x.isIntersecting){
      mobileCta.classList.add('show');
      document.body.classList.add('has-mobile-cta');
    } else {
      mobileCta.classList.remove('show');
      document.body.classList.remove('has-mobile-cta');
    }
  })
},{threshold:0}).observe(document.querySelector('.hero'));

// Scroll Progress Bar
const scrollProgress=document.getElementById('scroll-progress');
const updateScrollProgress=debounce(()=>{
  const winScroll=document.body.scrollTop||document.documentElement.scrollTop;
  const height=document.documentElement.scrollHeight-document.documentElement.clientHeight;
  const scrolled=(winScroll/height)*100;
  scrollProgress.style.transform=`scaleX(${scrolled/100})`;
  scrollProgress.setAttribute('aria-valuenow',Math.round(scrolled));
},10);
window.addEventListener('scroll',updateScrollProgress,{passive:true});

// Parallax effect for hero image container
let ticking=false;
const heroImageContainer=document.querySelector('.hero-image');
if(heroImageContainer){
  const updateParallax=()=>{
    const scrolled=window.pageYOffset;
    const heroTop=heroImageContainer.getBoundingClientRect().top+scrolled;
    const heroHeight=heroImageContainer.offsetHeight;
    const windowHeight=window.innerHeight;
    
    if(scrolled+windowHeight>heroTop&&scrolled<heroTop+heroHeight){
      const rate=(scrolled-heroTop+windowHeight)*-0.3;
      heroImageContainer.style.transform=`translateY(${rate}px)`;
    }
    ticking=false;
  };
  window.addEventListener('scroll',()=>{
    if(!ticking){
      window.requestAnimationFrame(updateParallax);
      ticking=true;
    }
  },{passive:true});
}

// Counter Animation
function animateCounter(element,target){
  const duration=1500;
  const start=0;
  const increment=target/(duration/16);
  let current=start;
  const timer=setInterval(()=>{
    current+=increment;
    if(current>=target){
      element.textContent=element.textContent.replace(/[0-9.]+/,target);
      clearInterval(timer);
    } else {
      const displayValue=Math.floor(current*10)/10;
      element.textContent=element.textContent.replace(/[0-9.]+/,displayValue);
    }
  },16);
}

// Booking Form
const bookingForm=document.getElementById('booking-form');
if(bookingForm){
  // Set min date to today
  const dateInput=document.getElementById('booking-date');
  if(dateInput){
    const today=new Date().toISOString().split('T')[0];
    dateInput.setAttribute('min',today);
  }
  
  // Form validation
  bookingForm.addEventListener('submit',async(e)=>{
    e.preventDefault();
    const formData=new FormData(bookingForm);
    let isValid=true;
    
    // Validate all required fields
    bookingForm.querySelectorAll('[required]').forEach(field=>{
      const group=field.closest('.form-group');
      if(!field.value.trim()){
        group.classList.add('error');
        isValid=false;
      } else {
        group.classList.remove('error');
        // Email validation
        if(field.type==='email'&&!field.value.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){
          group.classList.add('error');
          isValid=false;
        }
      }
    });
    
    if(isValid){
      const submitBtn=bookingForm.querySelector('button[type="submit"]');
      submitBtn.classList.add('loading');
      
      // Simulate form submission (replace with actual API call)
      setTimeout(()=>{
        submitBtn.classList.remove('loading');
        showSuccessMessage('Prenotazione inviata con successo! Ti contatteremo a breve.');
        bookingForm.reset();
      },1500);
    }
  });
}

// Success Message
function showSuccessMessage(message){
  const msg=document.createElement('div');
  msg.className='success-message';
  msg.textContent=message;
  msg.setAttribute('role','alert');
  document.body.appendChild(msg);
  setTimeout(()=>msg.classList.add('show'),10);
  setTimeout(()=>{
    msg.classList.remove('show');
    setTimeout(()=>msg.remove(),300);
  },3000);
}

// Menu Filters
const filterButtons=document.querySelectorAll('.menu-filter-btn');
const menuItems=document.querySelectorAll('.menu-item');
filterButtons.forEach(btn=>{
  btn.addEventListener('click',()=>{
    filterButtons.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    const filter=btn.dataset.filter;
    menuItems.forEach(item=>{
      if(filter==='all'||item.dataset.category.includes(filter)){
        item.classList.remove('hidden');
        setTimeout(()=>item.style.opacity='1',10);
      } else {
        item.style.opacity='0';
        setTimeout(()=>item.classList.add('hidden'),300);
      }
    });
  });
});

// Menu Item Expand
menuItems.forEach(item=>{
  const header=item.querySelector('.menu-item-header');
  if(header){
    header.addEventListener('click',()=>{
      item.classList.toggle('expanded');
    });
    header.setAttribute('role','button');
    header.setAttribute('tabindex','0');
    header.addEventListener('keydown',(e)=>{
      if(e.key==='Enter'||e.key===' '){
        e.preventDefault();
        item.classList.toggle('expanded');
      }
    });
  }
});

// Gallery Lightbox
const galleryItems=document.querySelectorAll('.gallery-item');
const lightbox=document.getElementById('lightbox');
const lightboxImg=document.getElementById('lightbox-img');
const lightboxClose=document.querySelector('.lightbox-close');
const lightboxPrev=document.querySelector('.lightbox-prev');
const lightboxNext=document.querySelector('.lightbox-next');
let currentImageIndex=0;
const galleryImages=Array.from(galleryItems).map(item=>{
  const img=item.querySelector('img');
  return img?img.src:item.innerHTML;
});

galleryItems.forEach((item,index)=>{
  item.addEventListener('click',()=>{
    currentImageIndex=index;
    openLightbox(index);
  });
  item.setAttribute('role','button');
  item.setAttribute('tabindex','0');
  item.addEventListener('keydown',(e)=>{
    if(e.key==='Enter'||e.key===' '){
      e.preventDefault();
      currentImageIndex=index;
      openLightbox(index);
    }
  });
});

function openLightbox(index){
  if(galleryImages[index]){
    const img=galleryItems[index].querySelector('img');
    if(img){
      lightboxImg.src=img.src;
      lightboxImg.alt=img.alt||'Immagine galleria';
    } else {
      lightboxImg.style.display='none';
    }
    lightbox.classList.add('active');
    document.body.style.overflow='hidden';
    updateLightboxNav();
  }
}

function closeLightbox(){
  lightbox.classList.remove('active');
  document.body.style.overflow='';
}

function nextImage(){
  currentImageIndex=(currentImageIndex+1)%galleryImages.length;
  openLightbox(currentImageIndex);
}

function prevImage(){
  currentImageIndex=(currentImageIndex-1+galleryImages.length)%galleryImages.length;
  openLightbox(currentImageIndex);
}

function updateLightboxNav(){
  lightboxPrev.style.display=galleryImages.length>1?'flex':'none';
  lightboxNext.style.display=galleryImages.length>1?'flex':'none';
}

if(lightboxClose) lightboxClose.addEventListener('click',closeLightbox);
if(lightboxNext) lightboxNext.addEventListener('click',nextImage);
if(lightboxPrev) lightboxPrev.addEventListener('click',prevImage);
lightbox.addEventListener('click',(e)=>{
  if(e.target===lightbox) closeLightbox();
});
document.addEventListener('keydown',(e)=>{
  if(lightbox.classList.contains('active')){
    if(e.key==='Escape') closeLightbox();
    if(e.key==='ArrowRight') nextImage();
    if(e.key==='ArrowLeft') prevImage();
  }
});

// Lazy loading images
if('loading' in HTMLImageElement.prototype){
  document.querySelectorAll('img[loading="lazy"]').forEach(img=>{
    img.src=img.dataset.src||img.src;
  });
} else {
  const script=document.createElement('script');
  script.src='https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js';
  document.body.appendChild(script);
}

// Register Service Worker for PWA
if('serviceWorker' in navigator){
  window.addEventListener('load',()=>{
    navigator.serviceWorker.register('/sw.js')
      .then(reg=>console.log('Service Worker registered'))
      .catch(err=>console.log('Service Worker registration failed'));
  });
}

// ARIA labels and accessibility improvements
document.querySelectorAll('a[href^="#"]').forEach(link=>{
  if(!link.getAttribute('aria-label')){
    const targetId=link.getAttribute('href').substring(1);
    const target=document.getElementById(targetId);
    if(target){
      link.setAttribute('aria-label',`Vai alla sezione ${target.textContent.trim().substring(0,30)}`);
    }
  }
});

// Focus visible polyfill for better accessibility
if(!CSS.supports('selector(:focus-visible)')){
  document.addEventListener('keydown',(e)=>{
    if(e.key==='Tab'){
      document.body.classList.add('keyboard-navigation');
    }
  });
  document.addEventListener('mousedown',()=>{
    document.body.classList.remove('keyboard-navigation');
  });
}
</script>
</body>
</html>
